<%= form_tag cafes_path, method: :get do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Have a specific cafe in mind?"
  %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

<% @tags.each do |tag| %>
  <button type="button" class="btn btn-outline-secondary m-1 tag-btn"><%= tag.name %></button>
<% end %>

<div class="container">
  <div class="row">
    <% @cafes.each do |cafe| %>
    <div class="col-sm"></div>
    <div class="card-cafe">
      <img src="https://source.unsplash.com/1600x900/?<%= cafe.category %>,<%= cafe.name %>" />
      <div class="card-cafe-infos">
        <div>
          <h2><%= cafe.name %></h2>
          <p><%= cafe.category.capitalize %></p>
        </div>
        <h2 class="card-cafe-pricing"><%= cafe.neighbourhood %></h2>
      </div>
    </div>
  <% end %>
  </div>
</div>
</div>

<%= link_to 'log out', destroy_user_session_path, method: :delete  %>
<%= render 'shared/bottom_navbar', user: @user %>

<%#= javascript_pack_tag "tags" %>

<script>

const inactiveTag = document.querySelectorAll('.tag-btn')
const cafeCard = document.querySelectorAll('.card-cafe')
// const selectedCafes = document.querySelectorAll('')

// const showFilteredResults = () => {

// };

inactiveTag.forEach((tag) => {
  tag.addEventListener('click', (e) => {
    console.log("hello!");
    e.currentTarget.classList.toggle('active');
    // showFilteredResults();
  })
})

</script>
